# 微服务启动指南

## 快速启动步骤（按顺序执行）

### 1️⃣ 启动Eureka注册中心
```
位置：E:\eureka-server
主类：com.bookstore.eureka.EurekaServerApplication
端口：8761
验证：http://localhost:8761
```

### 2️⃣ 启动Author微服务
```
位置：E:\author-service
主类：com.bookstore.author.AuthorServiceApplication
端口：8081
验证：http://localhost:8081/api/authors/health
```

### 3️⃣ 启动主后端服务
```
位置：E:\web\online-bookstore-backend
主类：com.bookstore.online_bookstore_backend.OnlineBookstoreBackendApplication
端口：8082
验证：http://localhost:8082/api/authors/health
```

### 4️⃣ 启动Gateway网关
```
位置：E:\gateway-service
主类：com.bookstore.gateway.GatewayServiceApplication
端口：8080
验证：http://localhost:8080/api/authors/health
```

### 5️⃣ 启动React前端
```bash
cd E:\web
npm start
# 访问：http://localhost:3000
```

---

## VSCode启动方式

1. **打开项目文件夹**
2. **找到主类**（带`@SpringBootApplication`注解）
3. **点击"Run"按钮**或按F5

---

## 验证微服务是否正常

### ✅ 查看Eureka控制台
访问：http://localhost:8761

应该看到3个已注册服务：
- AUTHOR-SERVICE
- BOOKSTORE-BACKEND  
- GATEWAY-SERVICE

### ✅ 测试API调用

**1. 直接访问Author微服务**
```
GET http://localhost:8081/api/authors/by-book?title=86
```

**2. 通过Gateway访问**
```
GET http://localhost:8080/api/authors/by-book?title=86
```

**3. 通过主后端访问**
```
GET http://localhost:8082/api/authors/by-book?title=86
```

**4. 前端访问（推荐）**
```
访问 http://localhost:3000/books
点击任意书籍的"查看作者"功能
```

---

## 常见问题

### Q1: 启动顺序错了怎么办？
A: 重启服务即可，Eureka会自动重新注册

### Q2: 端口被占用？
A: 修改对应的`application.yml`或`application.properties`中的`server.port`

### Q3: 服务在Eureka中不显示？
A: 检查`eureka.client.service-url.defaultZone`配置是否正确

### Q4: Gateway转发失败？
A: 确认目标服务已在Eureka注册，查看Gateway日志

---

**更新时间：** 2025-11-03

